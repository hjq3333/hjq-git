09 流量主题店内路径看板设计文档

1.数据产生与ods基础层

    据文档需求决定，ods层建立四张表.
    每个表使用脚本随机生成100万行数据,每个表都包含terminal_type字段，用来区别pc端和wireless端。
    ods_wireless_entry 入店与承接原始数据表(用来求pc端和wireless端单日、7日、30日内的进店页面的访客量，下单买家数，下单转化率)
    ods_instore_path   店内路径流转明细表(用来求pc端和wireless端的一个访客在店铺内各个页面的访问顺序，页面跳转时间，页面停留时间)
    ods_page_visit_rank 页面访问排行原始表(用来求pc端和wireless端的店铺页、商品详情页、店铺其他页的排行)
    ods_shop_page_visit_detail  店铺页细分类型访问原始表(用来求pc端和wireless端的店铺页内首页、活动页等排行)
    在ods层使用pyspark读取csv文件为每个表插入100万数据.

2.dwd层

    dwd_wireless_entry_detail和dwd_pc_entry_detail是根据ods_wireless_entry表生成的，
    用来求pc端和wireless端单日、7日、30日内的进店页面的访客量，下单买家数，下单转化率。

    dwd_shop_page_visit_detail_pc和dwd_shop_page_visit_detail_wireless是根据ods_shop_page_visit_detail生成的，
    用来求pc端和wireless端店铺页内首页、活动页等排行。

    dwd_instore_path_pc和dwd_instore_path_wireless是根据ods_instore_path生成的，
    用来求pc端和wireless端一个访客在店铺内各个页面的访问顺序，页面跳转时间，页面停留时间。

    dwd层表无大改动，只是使用terminal_type字段，分开建表，用来区分pc端和wireless端。

3.dws层
    
    dws_wireless_entry_daily和dws_pc_entry_daily分别是dwd_wireless_entry_detail和dwd_pc_entry_detail的聚合
    ，求日周期的进店页面的访客量，下单买家数，下单转化率。

    dws_wireless_entry_multi_period和dws_pc_entry_multi_period分别是dwd_wireless_entry_detail和dwd_pc_entry_detail的聚合，
    求多周期的进店页面的访客量，下单买家数，下单转化率。

    dws_shop_page_daily_summary_pc和dws_shop_page_daily_summary_wireless是
    根据dwd_shop_page_visit_detail_pc和dwd_shop_page_visit_detail_wireless生成的，求店铺页内首页、活动页等排行。

    dws_instore_path_summary_pc和dws_instore_path_summary_wireless是根据dwd_instore_path_pc和dwd_instore_path_wireless生成的，
    求一个访客在店铺内各个页面的访问顺序，页面跳转时间，页面停留时间。

    dws_pc_entry_page_type_analysis是根据dwd_pc_entry_detail生成的，求pc端进店页面的top20。 
    
    到此已经基本具体指标的雏形.

4.ads层
    
    ads_wireless_entry_indicator和ads_pc_entry_indicator是根据dws_wireless_entry_daily和dws_pc_entry_daily生成的，
    求pc端和wireless端单日、7日、30日内的进店页面的访客量，下单买家数，下单转化率。

    ads_shop_page_analysis_pc和ads_shop_page_analysis_wireless是
    根据dws_shop_page_daily_summary_pc和dws_shop_page_daily_summary_wireless生成的，求店铺页内首页、活动页等排行。

    ads_instore_path_analysis_pc和ads_instore_path_analysis是根据dws_instore_path_summary_pc和dws_instore_path_summary_wireless生成的，
    求一个访客在店铺内各个页面的访问顺序，页面跳转时间，页面停留时间。
  
    ads_pc_entry_page_type_top20是根据dws_pc_entry_page_type_analysis生成的，求pc端进店页面的top20。
 
5.数据可视化
    
    
